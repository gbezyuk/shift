- load i18n
%table.table.cart
    %thead
        %tr
            - if cart_mode
                %th
                    {% trans "Remove" %}
            %th{'colspan': 2}
                {% trans "Product" %}
            %th
                {% trans "Price" %}
            %th
                {% trans "Quantity" %}
            %th
                {% trans "Total" %}
    %tbody
        - if cart
            - for item in cart
                %tr
                    - if cart_mode
                        %td
                            - load cart_form_tags
                            = form|cart_form_remove_item_input:item.item.id
                    %td
                        %ul.thumbnails
                            %li.thumbnail.version.version80x80
                                - with image=item.item.product.main_image thumbnail_version="80x80"
                                    - include 'doppler/shift/catalog/snippets/image.haml'
                    %td
                        %a{'href': '{{ item.item.product.get_absolute_url }}'}
                            = item.item.product

                            - if item.item.color or item.item.size
                                - if item.item.color
                                    %br
                                    {% trans "Color: " %}
                                    %span.color
                                        = item.item.color
                                - if item.item.size
                                    %br
                                    {% trans "Size: " %}
                                    %span.size
                                        = item.item.size
                    %td.price
                        = item.item.value
                    %td
                        - if cart_mode
                            = form|cart_form_item_quantity_input:item.item.id
                        - else
                            = item.quantity
                    %td.price
                        = item.total_price
            %tr
                %th{'colspan': '{% if cart_mode %}4{% else %}3{% endif %}'}
                %th
                    = cart.total_quantity
                %th.price
                    = cart.total_price
        - else
            %tr
                %th{'colspan': '{% if cart_mode %}4{% else %}3{% endif %}'}
                    {% trans "Your shopping cart is empty yet" %}
                %th 0
                %th 0